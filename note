So in order to build c-stubdom, you need to enter stubdom directory and run ./configure --enable-c-stubdom. You should see in the output c-stubdom will be built.

Install xen on testbed machine:
After we install xen-4.8.4 on Debian 9, we do update-pxelinux.

We edit /etc/default/update-pxelinux, add gnttab_max_frame=65536 dom0_mem=1024M,max:1024M in XEN_PARAMETER, and then update-pxelinux.

$ ldconfig /usr/local/lib/
$ update-rc.d xencommons defaults 19 18
$ update-rc.d xendomains defaults 21 20
$ update-rc.d xen-watchdog defaults 22 23
After edit xc_dom_core.c
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/root/xen-4.8.4/tools/libxc

Remember to set node permissions.
1. 
sudo xenstore-write /local/domain/backend 0
sudo xenstore-chmod /local/domain/backend b

2.
sudo xenstore-write /local/domain/frontend 0
sudo xenstore-chmod /local/domain/frontend b


When we change Mini-OS stack size, we had better delete mini-os-x86_64-c and build again.

c/main.c and char* model should be consistent.

pytorcher builds ISPC with -fPIC, we should make .a without -fPIC.

resnet18 needs 11425 pages. Some parameters to set:
1. DEFAULT_MAX_GRANTS in gntmap.c (20384)
2. NR_GRANT_FRAMES in gnttab.c (24)
3. GRUB_CMDLINE_XEN="gnttab_max_frames=24000" in /etc/default/grub

alexnet needs ~60000 pages.

